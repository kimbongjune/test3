<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<!-- mybatis mapper파일 -->

<mapper namespace="fileMapper">
	<insert id="insertFileOne" parameterType="file">
		insert into file(
			original_name,
			saved_name,
			file_size,
			content_type,
			upload_path,
			bno
		)values(
			#{originalName},
			#{savedName},
			#{fileSize},
			#{contentType},
			#{uploadPath},
			#{bno}
		)
	</insert>
	
	<insert id="insertFiles" parameterType="java.util.List">
		insert into file(
			original_name,
			saved_name,
			file_size,
			content_type,
			upload_path,
			bno
		)values
		<foreach collection="list" item="file" separator=",">
		(
			#{file.originalName},
			#{file.savedName},
			#{file.fileSize},
			#{file.contentType},
			#{file.uploadPath},
			#{file.bno}
		)
		</foreach>
	</insert>
	
	<!-- 특정 게시글의 파일 목록 조회 -->
	<select id="selectFileByBno" parameterType="int" resultType="file">
		select * from file where bno = #{bno}
	</select>
	
</mapper>